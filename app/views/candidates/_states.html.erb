<%= select_tag :current_location, options_for_select(CS.states(CS.countries.key(country)).values.sort), prompt: "Select State", class: "form-control select-state sel-search"%>
<script> 
    $('.select-state').niceSelect();

    // js for adding input tag inside select tags
    $("#current_location ul li:first").before('<input type="text" class="search_field form-control" placeholder="Search.."  onclick="event.stopPropagation()"/>')

    // js for adding search functionality inside select tags
    $(".search_field").on('keyup', function(e){
        sear_val = $(this).val().toLocaleLowerCase().trim();
        
        id = e.currentTarget.parentElement.parentElement.parentElement.id;
        $("#" + id + " ul li").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(sear_val) > -1);
        });
    })
</script>